<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Jocalf__Eval (Jocalf.Jocalf__Eval)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">Jocalf</a> &#x00BB; Jocalf__Eval</nav><h1>Module <code>Jocalf__Eval</code></h1><p>Implements the big-step environment model semantics.</p></header><dl><dt class="spec type" id="type-value"><a href="#type-value" class="anchor"></a><code><span class="keyword">type</span> value</code></dt><dd><p><code>value</code> is the type of JoCalf values</p></dd></dl><dl><dt class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><code><span class="keyword">type</span> result</code></dt><dd><p><code>result</code> is the type of JoCalf results, which are either values or exceptions</p></dd></dl><dl><dt class="spec type" id="type-env"><a href="#type-env" class="anchor"></a><code><span class="keyword">type</span> env</code></dt><dd><p><code>env</code> is an environment, which maps identifiers to values</p></dd></dl><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code></dt><dd><p><code>state</code> is a state, which maps locations to values</p></dd></dl><dl><dt class="spec value" id="val-initial_env"><a href="#val-initial_env" class="anchor"></a><code><span class="keyword">val</span> initial_env : <a href="index.html#type-env">env</a></code></dt><dd><p><code>initial_env</code> is the environment in which evaluation begins. It must contain all the external functions defined in the language manual.</p></dd></dl><dl><dt class="spec value" id="val-initial_state"><a href="#val-initial_state" class="anchor"></a><code><span class="keyword">val</span> initial_state : <a href="index.html#type-state">state</a></code></dt><dd><p><code>initial_state</code> is the state in which evaluation begins. It should not have any allocated locations.</p></dd></dl><dl><dt class="spec value" id="val-string_of_value"><a href="#val-string_of_value" class="anchor"></a><code><span class="keyword">val</span> string_of_value : <a href="index.html#type-value">value</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>string_of_value v</code> is a string representing value <code>v</code>.</p><ul><li>If v is an int, that string should be <code>string_of_int v</code>.</li><li>If v is a string, that string should be <code>&quot;\&quot;&quot; ^ String.escaped v ^ &quot;\&quot;&quot;</code>.</li><li>If v is a boolean, that string should be <code>string_of_bool b</code>.</li><li>If v is undefined, that string should be <code>&quot;undefined&quot;</code>.</li><li>If v is an object, that string should be <code>&quot;&lt;object&gt;&quot;</code>.</li><li>If v is a location, that string should be <code>&quot;&lt;reference&gt;&quot;</code>.</li><li>If v is a closure or extern, that string should be <code>&quot;&lt;function&gt;&quot;</code>.</li></ul><p>In the final four cases above, note that the string <code>string_of_value</code> returns should not contain the surrounding square brackets or quotes; they are there just to delimit the string in this comment.</p></dd></dl><dl><dt class="spec value" id="val-string_of_result"><a href="#val-string_of_result" class="anchor"></a><code><span class="keyword">val</span> string_of_result : <a href="index.html#type-result">result</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>string_of_result r</code> is a string representing result <code>r</code>.</p><ul><li>If r is a value <code>v</code>, that string should be <code>string_of_value v</code>.</li><li>If r is an exception carrying value <code>v</code>, that string should be <code>&quot;Exception: &quot; ^ string_of_value v</code>.</li></ul></dd></dl><dl><dt class="spec value" id="val-string_of_env"><a href="#val-string_of_env" class="anchor"></a><code><span class="keyword">val</span> string_of_env : <a href="index.html#type-env">env</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>string_of_env env</code> is a string representing environment <code>env</code>. It is up to you how to construct that string; it will only be used in the REPL, not in any test cases.</p></dd></dl><dl><dt class="spec value" id="val-string_of_state"><a href="#val-string_of_state" class="anchor"></a><code><span class="keyword">val</span> string_of_state : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>string_of_state st</code> is a string representing state <code>st</code>. It is up to you how to construct that string; it will only be used in the REPL, not in any test cases.</p></dd></dl><dl><dt class="spec value" id="val-eval_expr_init"><a href="#val-eval_expr_init" class="anchor"></a><code><span class="keyword">val</span> eval_expr_init : <a href="../Jocalf/Ast/index.html#type-expr">Jocalf.Ast.expr</a> <span>&#45;&gt;</span> <a href="index.html#type-result">result</a> * <a href="index.html#type-state">state</a></code></dt><dd><p><code>eval_expr_init e</code> is <code>(r,st)</code> if <code>e</code> in the initial environment and state, evaluates to <code>(r,st)</code>, that is, <code>&lt;e, initial_env, initial_state&gt;
    ==&gt; &lt;r, st&gt;</code>.</p></dd></dl><dl><dt class="spec value" id="val-eval_expr"><a href="#val-eval_expr" class="anchor"></a><code><span class="keyword">val</span> eval_expr : <span>(<a href="../Jocalf/Ast/index.html#type-expr">Jocalf.Ast.expr</a> * <a href="index.html#type-env">env</a> * <a href="index.html#type-state">state</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-result">result</a> * <a href="index.html#type-state">state</a></code></dt><dd><p><code>eval_expr (e, env, st)</code> is <code>(r, st')</code> if <code>&lt;e, env, st&gt; ==&gt; &lt;r, st'&gt;</code>.</p></dd></dl><dl><dt class="spec value" id="val-eval_defn"><a href="#val-eval_defn" class="anchor"></a><code><span class="keyword">val</span> eval_defn : <span>(<a href="../Jocalf/Ast/index.html#type-defn">Jocalf.Ast.defn</a> * <a href="index.html#type-env">env</a> * <a href="index.html#type-state">state</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-result">result</a> * <a href="index.html#type-env">env</a> * <a href="index.html#type-state">state</a></code></dt><dd><p><code>eval_defn (d, env, st)</code> is <code>(r, env', st')</code> if <code>&lt;d, env, st&gt; ==&gt; &lt;r,
    env', st'&gt;</code>.</p></dd></dl><dl><dt class="spec value" id="val-eval_phrase"><a href="#val-eval_phrase" class="anchor"></a><code><span class="keyword">val</span> eval_phrase : <span>(<a href="../Jocalf/Ast/index.html#type-phrase">Jocalf.Ast.phrase</a> * <a href="index.html#type-env">env</a> * <a href="index.html#type-state">state</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-result">result</a> * <a href="index.html#type-env">env</a> * <a href="index.html#type-state">state</a></code></dt><dd><p><code>eval_phrase (p, env, st)</code> is <code>(r, env', st')</code> if <code>&lt;p, env, st&gt; ==&gt;
    &lt;r, env', st'&gt;</code>.</p></dd></dl></div></body></html>